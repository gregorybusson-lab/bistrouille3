/* RESET minimal */
*,*::before,*::after{box-sizing:border-box}
html{line-height:1.45;-webkit-text-size-adjust:100%}
body{margin:0}
img{max-width:100%;display:block;height:auto}
button,input,select,textarea{font:inherit}
a{color:inherit;text-decoration:none}
:focus-vi.promo-title{display:block;text-align:center;font-size:3rem;font-weight:900;margin-bottom:10px;font-family:"Playfair Display",Georgia,serif;color:#fff;-webkit-text-stroke:1px #000;text-shadow:0 0 2px #000}ible{outline:2px solid #7A0F1F;outline-offset:3px}
html,body{overflow-x:hidden}

/* TOKENS */
:root{
  --bg:#F7F2EA;
  --surface:#FFFFFF;
  --ink:#1C1B1A;
  --muted:#6F6A66;
  --brand:#7A0F1F;
  --brand-600:#5E0C18;
  --olive:#6C7B58;
  --radius:20px;
  --shadow:0 12px 28px rgba(0,0,0,.12);
  --container:1100px;
  --header-h:96px;
  --safe-top: env(safe-area-inset-top, 0px);
}

/* TYPO */
body{font-family:'Lato',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg)}
main{padding-top:var(--header-h)}
h1,h2,h3,h4,.brand__title{font-family:'Playfair Display',Georgia,serif}
.section-title{margin:0 0 16px;font-size:clamp(26px,3.2vw,40px);font-weight:700;color:#3f2c26}
/* LAYOUT générique */
.container{width:min(var(--container),92vw);margin-inline:auto}
.grid{display:grid;gap:18px}
.grid--2{grid-template-columns:1fr 1fr}
.grid--3{grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){.grid--2,.grid--3{grid-template-columns:1fr}}
.card{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* BOUTONS */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:12px 16px;border-radius:14px;border:1px solid rgba(0,0,0,.12);background:#fff;cursor:pointer;transition:transform .15s ease, box-shadow .15s ease}
.btn:active{transform:translateY(1px)}
.btn--primary{
  position:relative;
  background:linear-gradient(135deg,#c9932b,#ad7312);
  border:1px solid rgba(31,22,19,.25);
  color:#1c120b;
  box-shadow:0 16px 34px rgba(201,147,43,.32);
  overflow:hidden;
}
.btn--primary::after{
  content:"";
  position:absolute;inset:0;
  background:radial-gradient(circle at top left, rgba(255,255,255,.55), rgba(255,255,255,0) 55%);
  opacity:0;transition:opacity .3s ease;
}
.btn--primary:hover{filter:brightness(1.06)}
.btn--primary:hover::after{opacity:.8}
.btn--ghost{background:rgba(255,255,255,.12);color:#fff;border:1px solid rgba(255,255,255,.32);backdrop-filter:blur(4px)}
.btn--ghost:hover{box-shadow:0 12px 28px rgba(0,0,0,.22);background:rgba(255,255,255,.2)}
.btn--wide{justify-content:center;width:100%;gap:12px}
.btn--wide svg{width:18px;height:18px}
.btn--pulse{animation:pulse 1.8s ease-in-out infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(122,15,31,.28)}50%{box-shadow:0 0 0 12px rgba(122,15,31,0)}}
@keyframes floaty{0%,100%{transform:translateY(0);box-shadow:0 22px 48px rgba(0,0,0,.36)}50%{transform:translateY(-18px);box-shadow:0 32px 56px rgba(0,0,0,.30)}}

/* TAGS */
.tag{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(122,15,31,.08);color:var(--brand);font-size:12px;font-weight:900;letter-spacing:.3px}
.breadcrumb a{color:var(--ink);font-weight:700}
.breadcrumb a:hover{text-decoration:underline}

/* HEADER + LOGO */
.header{
  position:fixed;top:0;left:0;right:0;z-index:80;
  background:#080708;
  border-bottom:1px solid transparent;
  color:#fff;
  padding-block:6px;
  transition:background .35s ease,border-color .35s ease,box-shadow .35s ease,color .35s ease;
}
.header a,
.header .nav__link,
.header .phone span,
.header svg{color:#fff;fill:currentColor;stroke:currentColor;transition:color .35s ease,fill .35s ease,stroke .35s ease}
.header.scrolled{
  background:rgba(247,242,234,.96);
  border-bottom:1px solid rgba(0,0,0,.08);
  box-shadow:0 10px 28px rgba(0,0,0,.12);
  color:var(--ink);
}
.header.scrolled a,
.header.scrolled .nav__link,
.header.scrolled .phone span,
.header.scrolled svg{color:var(--ink);fill:currentColor;stroke:currentColor}
.header.scrolled .brand__logo{filter:none}
.header__inner{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:12px}
.brand{display:flex;align-items:center;gap:12px;min-width:0}
.brand__logo{display:block;width:146px;height:auto;filter:drop-shadow(0 8px 18px rgba(0,0,0,.45))}
.nav{display:flex}
.nav__list{display:flex;gap:26px;list-style:none;margin:0;padding:0}
.nav__link{font-weight:700;font-size:12px;letter-spacing:.22em;text-transform:uppercase;position:relative;transition:opacity .25s ease}
.nav__link::after{content:"";position:absolute;left:0;right:0;bottom:-6px;height:2px;background:currentColor;opacity:0;transform:scaleX(.6);transform-origin:center;transition:opacity .25s ease,transform .25s ease}
.nav__link:hover{opacity:.82}
.nav__link:hover::after{opacity:1;transform:scaleX(1)}
.toolbar{display:flex;align-items:center;gap:18px}
.iconbtn{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:999px;border:1px solid rgba(255,255,255,.32);background:rgba(255,255,255,.15);color:#fff;box-shadow:0 12px 28px rgba(0,0,0,.18);transition:transform .25s ease, box-shadow .25s ease, opacity .25s ease}
.iconbtn svg{width:20px;height:20px}
.iconbtn:hover{opacity:1;transform:translateY(-2px);box-shadow:0 16px 34px rgba(0,0,0,.24)}
.header .btn--primary{
  padding:10px 18px;
  border-radius:999px;
  color:#1c120b;
  box-shadow:0 16px 34px rgba(201,147,43,.32);
}
.header.scrolled .btn--primary{color:#1c120b}
.phone{display:inline-flex;align-items:center;gap:12px;font-weight:800;font-size:13px;letter-spacing:.12em;text-transform:uppercase;padding:10px 18px;border-radius:999px;background:linear-gradient(135deg,#c9932b,#ad7312);color:#1c120b;box-shadow:0 16px 34px rgba(201,147,43,.32);border:1px solid rgba(31,22,19,.25)}
.phone svg{width:22px;height:22px;stroke-width:1.8;stroke:#1c120b}
.phone span{font-weight:800;letter-spacing:.14em}
.header.scrolled .iconbtn{background:rgba(0,0,0,.04);border-color:rgba(0,0,0,.18);color:var(--ink);box-shadow:0 10px 22px rgba(0,0,0,.16);opacity:.95}
.header.scrolled .iconbtn svg{stroke:inherit;fill:inherit}
.header.scrolled .phone{color:#1c120b;box-shadow:0 12px 26px rgba(201,147,43,.28)}
.header.scrolled .phone svg{stroke:#1c120b}
.burger{display:none;flex-direction:column;gap:4px;background:none;border:0}
.burger span{width:22px;height:2px;background:var(--ink)}
.header:not(.scrolled) .burger span{background:#fff}
@media (max-width:900px){:root{--header-h:80px;}}
@media (max-width:600px){:root{--header-h:70px;}}
@media (max-width:900px){
  .nav{display:none}
  .burger{display:flex}
  .brand__title{max-width:52vw}
}

/* Drawer mobile */
.drawer{position:fixed;top:calc(var(--header-h) - 6px);right:4vw;width:min(520px,92vw);background:var(--surface);border-radius:16px;box-shadow:var(--shadow);display:none;color:var(--ink)}
.drawer--open{display:block}
.drawer ul{list-style:none;margin:0;padding:16px}
.drawer li{border-bottom:1px solid rgba(0,0,0,.08)}
.drawer a{display:block;padding:12px 4px;font-weight:700;color:var(--ink)}
/* HERO — plein écran, transition header noir → fond crème */
.hero{
  position:relative;
  width:100vw;
  margin:calc(-1 * (var(--header-h) + var(--safe-top))) calc(50% - 50vw) 0;
  padding:calc(var(--header-h) + var(--safe-top) + clamp(24px,6vh,48px)) 0 56px;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;background:#080708;
  overflow:hidden;
}
.hero + section{margin-top:0}
.hero__wrap{
  position:relative;
  z-index:2;
  width:min(var(--container) + 120px, 95vw);
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:20px;
  color:#fff;
  min-height:calc(100vh - clamp(110px,16vh,160px) - 72px);
}
.hero__wrap{
  position:relative;
  z-index:2;
  width:min(var(--container) + 120px, 95vw);
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:20px;
  color:#fff;
  min-height:calc(100vh - clamp(110px,16vh,160px) - 72px);
}
.hero__media{
  position:absolute;
  inset:0;
  left:50%;
  width:100vw;
  transform:translateX(-50%);
  min-height:100vh;
  background:url('https://lebistrouille.fr/images/fond1.jpg') center/cover no-repeat;
  filter:saturate(105%);
  z-index:0;
  pointer-events:none;
}
.hero__media::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg, rgba(5,4,6,1) 0%, rgba(18,14,16,.68) 30%, rgba(30,22,19,.38) 58%, rgba(247,242,234,0) 88%);
}
.hero__content{
  position:relative;
  max-width:880px;
  padding-inline:clamp(16px,3vw,40px);
  text-shadow:0 22px 44px rgba(0,0,0,.48), 0 1px 0 rgba(0,0,0,.24);
}
.hero__title{margin:0;font-size:clamp(44px,5.8vw,74px);line-height:1.02;font-weight:800}
.hero__subtitle{margin:0;max-width:60ch;font-size:clamp(18px,1.9vw,22px);color:rgba(255,255,255,.82)}
.hero__ctas{display:flex;gap:16px;flex-wrap:wrap;margin-top:10px}
.hero__ctas .btn{box-shadow:0 20px 44px rgba(0,0,0,.42);border-radius:999px;padding:14px 28px;font-weight:800}
.hero__ctas .btn--primary{background:linear-gradient(135deg,#c9932b,#ad7312);border:0;color:#111}
.hero__ctas .btn--primary:hover{filter:brightness(1.04)}
.hero__ctas .btn--ghost{background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.32);color:#fff}
.hero__ctas .btn--ghost:hover{background:rgba(255,255,255,.22);box-shadow:0 24px 50px rgba(0,0,0,.36)}
.downwrap{
  position:absolute;
  left:50%;
  bottom:32px;
  transform:translate(-50%,0);
  z-index:3;
}
.down{
  display:inline-flex;align-items:center;gap:12px;
  padding:14px 28px;
  border-radius:999px;
  background:rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.45);
  color:#fff;
  font-weight:800;
  backdrop-filter:blur(12px);
  box-shadow:0 32px 64px rgba(0,0,0,.35);
  animation:floaty 4.2s ease-in-out infinite;
  transition:box-shadow .25s ease, filter .25s ease;
}
.down:hover{box-shadow:0 36px 72px rgba(0,0,0,.4);filter:brightness(1.05);}
.down svg{width:18px;height:18px}
@media (max-width:768px){
  .hero{margin:calc(-1 * (var(--header-h) + var(--safe-top) + 12px)) calc(50% - 50vw) 24px; padding:calc(var(--header-h) + var(--safe-top) + 52px) 0 56px; min-height:auto;}
  .hero__wrap{width:94vw;min-height:auto;gap:20px}
  .hero__content{padding-inline:0;gap:18px;max-width:none}
  .hero__ctas{flex-direction:column}
  .hero__ctas .btn{width:100%;justify-content:center}
  .downwrap{position:static;transform:none;margin:12px auto 0;}
  .down{padding:12px 22px;background:rgba(255,255,255,.18)}
}
/* SECTIONS */
section{padding:56px 0;scroll-margin-top:calc(var(--header-h) + 24px)}

/* PRÉSENTATION chips */
.chip{display:inline-flex;align-items:center;gap:10px;padding:8px 14px;border:1px dashed rgba(0,0,0,.12);border-radius:999px;background:#fff;font-weight:600}
.presentation{position:relative;margin-top:0}
.presentation::before{content:"";position:absolute;left:0;right:0;top:0;height:120px;background:linear-gradient(180deg, rgba(247,242,234,0) 0%, var(--bg) 100%);z-index:-1}
.presentation__grid{align-items:stretch}
.presentation__content{display:flex;flex-direction:column;gap:18px}
.presentation__logo{display:flex;justify-content:center;align-items:center;margin-top:4px}
.presentation__logo img{width:160px;max-width:70%;filter:drop-shadow(0 12px 24px rgba(0,0,0,.25))}
.presentation__chips{display:grid;grid-template-columns:1fr;gap:12px;margin-top:4px}
.presentation__chips .chip{display:flex;width:100%}
.presentation__actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:6px}
.presentation__actions .btn--ghost{color:var(--ink);background:rgba(28,18,15,.06);border:1px solid rgba(28,18,15,.14);box-shadow:none}
.presentation__actions .btn--ghost:hover{background:rgba(28,18,15,.1);box-shadow:0 10px 24px rgba(0,0,0,.08)}
.presentation__social{display:flex;gap:14px;flex-wrap:wrap;margin-top:6px}
.social-link{display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:999px;border:1px solid rgba(28,18,15,.14);background:rgba(28,18,15,.04);color:var(--ink);font-weight:700;transition:transform .25s ease, box-shadow .25s ease, background .25s ease}
.social-link svg{width:18px;height:18px}
.social-link:hover{background:rgba(28,18,15,.08);box-shadow:0 12px 28px rgba(0,0,0,.1);transform:translateY(-2px)}
.presentation__media{padding:0;overflow:hidden;position:relative;min-height:100%}
.presentation__media img{width:100%;height:100%;object-fit:cover;display:block;transition:transform 12s ease}
.presentation__media::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(8,7,11,.15) 0%, rgba(16,10,9,.35) 100%);mix-blend-mode:multiply;pointer-events:none}
.presentation__media:hover img{transform:scale(1.05)}

/* PROMO Formule */
.promo{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:220px;padding:40px 20px;border-radius:16px;background-image:url('https://lebistrouille.fr/images/la-formule-bistrouille.jpg');background-size:cover;background-position:center;color:#fff;position:relative;overflow:hidden}
.promo::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.25);z-index:0}
.promo>*{position:relative;z-index:1}
.promo__thumb{width:200px;height:150px;border-radius:10px;overflow:hidden;position:relative}
.promo__overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.7);background:rgba(0,0,0,.3)}
.promo h2{font-size:2.5rem;font-weight:900;text-transform:uppercase;margin:0 0 10px;text-align:center}
.promo p{font-size:clamp(16px,1.6vw,20px);margin:0 0 20px;text-align:center;text-shadow:0 12px 24px rgba(0,0,0,.6), 0 1px 0 rgba(0,0,0,.4);font-weight:500;max-width:70ch}
.promo__badge{background:var(--brand);color:#fff;padding:12px 20px;border-radius:999px;font-weight:900;font-size:1.3rem;box-shadow:0 8px 20px rgba(122,15,31,.4)}
.promo-title{display:block;text-align:center;font-size:clamp(28px,3.2vw,38px);font-weight:900;margin-bottom:12px;font-family:"Playfair Display",Georgia,serif;color:#fff;text-shadow:0 12px 24px rgba(0,0,0,.6), 0 1px 0 rgba(0,0,0,.4);line-height:1.1}
/* CARTE */
.menu-item{display:grid;grid-template-columns:120px 1fr auto;gap:14px;align-items:start;padding:12px 0;border-bottom:1px dashed rgba(0,0,0,.08);height:190px}
.menu-item__thumb{width:120px;height:116px;border-radius:12px;overflow:hidden;background:#ddd}
.menu-item__name{font-weight:900;margin-bottom:0}
.menu-item__desc{color:var(--muted);font-size:14px;min-height:4em}
.menu-item__price{font-weight:900;color:var(--brand)}

/* CAVE */
.wines__row{align-items:stretch}
.wine{display:grid;grid-template-columns:90px 1fr auto auto;gap:12px;align-items:center;padding:10px 0;border-bottom:1px dashed rgba(0,0,0,.08)}
.wine__thumb{width:90px;height:90px;border-radius:10px;overflow:hidden;background:#ddd}
.wine__prices{white-space:nowrap;font-weight:900;color:var(--brand)}
/* SOCIAL */
.social{display:grid;grid-template-columns:1fr 1fr;gap:18px}
@media (max-width:900px){.social{grid-template-columns:1fr}}
.post{background:#fff;border-radius:16px;box-shadow:var(--shadow);overflow:hidden;transition:transform .18s ease, box-shadow .18s ease}
.post:hover{transform:translateY(-2px);box-shadow:0 18px 36px rgba(0,0,0,.14)}
.post__img{aspect-ratio:1/1;object-fit:cover}
.post__meta{display:flex;align-items:center;justify-content:space-between;padding:10px 12px}
.post__tag{font-weight:900;font-size:12px;color:var(--brand)}
.snapwidget-widget{margin-bottom:-35px}

/* GALERIE */
.gallery__controls{display:flex;justify-content:space-between;margin-bottom:8px}
.gbtn{border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:10px;padding:8px 10px}
.gallery__row{overflow-x:auto;display:grid;grid-auto-flow:column;grid-auto-columns:160px;gap:8px}
.thumb{aspect-ratio:1/1;border-radius:12px;background:#ddd;overflow:hidden;cursor:pointer}
.featured{margin-top:12px;max-height:1000px;border-radius:14px;overflow:hidden;background:#000;display:none}
.featured.is-open{display:block;box-shadow:0 18px 40px rgba(0,0,0,.18)}
.featured img{object-fit:cover;width:100%;height:100%}

/* FORMULAIRES */
form{display:grid;gap:12px}
label{display:grid;gap:6px;font-weight:700}
input,select,textarea{padding:12px 14px;border:1px solid rgba(0,0,0,.14);border-radius:12px;background:#fff}
input:focus,select:focus,textarea:focus{border-color:var(--brand);box-shadow:0 0 0 4px rgba(122,15,31,.12)}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:900px){.row{grid-template-columns:1fr}}
.error{border-color:#c0392b}

/* FOOTER */
.footer{padding:36px 0;border-top:1px solid rgba(0,0,0,.08)}
.footer__cols{display:grid;grid-template-columns:2fr 1fr 1fr;gap:18px}
@media (max-width:900px){.footer__cols{grid-template-columns:1fr}}
.muted{color:var(--muted);font-size:14px}
.footer-links a{margin-right:12px}
.footer .iconbtn{background:#fff;border-color:rgba(0,0,0,.10);color:var(--ink)}
.footer .iconbtn:hover{transform:translateY(-2px);box-shadow:0 12px 26px rgba(0,0,0,.12)}

/* REVEAL (utilisé avec l’IO dans ton JS) */
.reveal{opacity:0;transform:translateY(14px);transition:opacity .5s ease, transform .5s ease}
.reveal.is-visible{opacity:1;transform:none}

/* RESPONSIVE + garde-fous mobile */
@media (max-width:768px){
  .container{width:94vw}
  .header__inner{flex-wrap:wrap;justify-content:center;padding-top:12px;padding-bottom:12px;gap:12px}
  .brand{flex:1 1 100%;justify-content:center;margin-bottom:6px;position:static;transform:none}
  .brand__logo{width:160px;margin-inline:auto;filter:none}
  .toolbar{justify-content:center;gap:8px}
  .iconbtn{display:none}
  .btn{padding:11px 14px}
  .hero{margin-top:0}
  .hero__wrap{border-radius:18px}
  .hero__media{min-height:100vh}
  .hero__content{padding:20px}
  .hero__ctas .btn{width:100%;justify-content:center}
  .downwrap{margin-top:10px}
  .menu-item{grid-template-columns:88px 1fr auto;gap:10px}
  .menu-item__thumb{width:88px;height:96px;border-radius:10px}
  .wines__row{grid-template-columns:1fr}
  .wine{grid-template-columns:70px 1fr auto}
  .wine__thumb{width:70px;height:70px;border-radius:8px}
}
@media (max-width:420px){
  .wine{grid-template-columns:70px 1fr}
}

@media (max-width:768px){
  .presentation__chips{grid-template-columns:1fr}
  .presentation__actions{grid-template-columns:1fr}
  .presentation__logo img{width:140px}
  .presentation__media{min-height:500px}
}

/* Sécurité overflow globale */
/* Cave image fill */
aside.card {
  position: relative;
}
aside.card img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.header, .hero, section, .footer, .container{max-width:100vw}
html,body{overflow-x:hidden}

/* === Header socials : liens typographiques sobres === */
/* (Conservé pour compatibilité, le look est géré plus haut) */
@media (max-width:900px){.hero{padding-top:calc(var(--header-h) + var(--safe-top) + 32px)}}

/* === Toast notification (pop-in pour messages) === */
.toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.9);
  background: #2d3748;
  color: white;
  padding: 24px 32px;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
  z-index: 10000;
  min-width: 320px;
  max-width: 500px;
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
  pointer-events: none;
  font-size: 16px;
  line-height: 1.6;
  text-align: center;
  font-weight: 500;
}

.toast.show {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
  pointer-events: auto;
}

.toast.success {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  border: 2px solid rgba(255, 255, 255, 0.2);
}

.toast.error {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  border: 2px solid rgba(255, 255, 255, 0.2);
}

@media (max-width: 768px) {
  .toast {
    min-width: 280px;
    max-width: calc(100vw - 40px);
    padding: 20px 24px;
    font-size: 15px;
  }
}
